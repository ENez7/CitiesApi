2023-02-02 12:31:58.482 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 12:31:58.725 -04:00 [DBG] Hosting starting
2023-02-02 12:31:58.801 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 12:31:58.832 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 12:31:58.833 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 12:31:58.835 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 12:31:58.836 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 12:31:58.838 -04:00 [INF] Hosting environment: Development
2023-02-02 12:31:58.839 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 12:31:58.840 -04:00 [DBG] Hosting started
2023-02-02 12:32:10.046 -04:00 [DBG] Connection id "0HMO57C41SCU6" received FIN.
2023-02-02 12:32:10.052 -04:00 [DBG] Connection id "0HMO57C41SCU6" accepted.
2023-02-02 12:32:10.053 -04:00 [DBG] Connection id "0HMO57C41SCU6" started.
2023-02-02 12:32:10.055 -04:00 [DBG] Connection id "0HMO57C41SCU7" accepted.
2023-02-02 12:32:10.056 -04:00 [DBG] Connection id "0HMO57C41SCU7" started.
2023-02-02 12:32:10.067 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 12:32:10.093 -04:00 [DBG] Connection 0HMO57C41SCU7 established using the following protocol: "Tls13"
2023-02-02 12:32:10.098 -04:00 [DBG] Connection id "0HMO57C41SCU6" stopped.
2023-02-02 12:32:10.099 -04:00 [DBG] Connection id "0HMO57C41SCU6" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:32:10.143 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities - -
2023-02-02 12:32:10.144 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 12:32:10.184 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:32:10.209 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-02-02 12:32:10.212 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-02-02 12:32:10.214 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:32:10.216 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:32:10.232 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Api.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:32:10.234 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:32:10.235 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:32:10.235 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:32:10.237 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:32:10.237 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:32:10.239 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:32:10.469 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 12:32:10.492 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:32:11.271 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:32:11.419 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-02-02 12:32:11.604 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Api.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-02-02 12:32:11.643 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:32:11.691 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (44ms).
2023-02-02 12:32:11.697 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:32:12.063 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:32:12.072 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:32:12.112 -04:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:32:12.140 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:32:12.161 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:32:12.162 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:32:12.167 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:32:12.171 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:32:12.180 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:32:12.186 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 12:32:12.190 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 12:32:12.190 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 12:32:12.191 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 12:32:12.192 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 12:32:12.193 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Api.Models.CityWithoutPointsOfInterestDto, CityInfo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-02 12:32:12.330 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api) in 2087.4161ms
2023-02-02 12:32:12.331 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:32:12.335 -04:00 [DBG] Connection id "0HMO57C41SCU7" completed keep alive response.
2023-02-02 12:32:12.340 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:32:12.343 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities - - - 200 247 application/json;+charset=utf-8 2203.6085ms
2023-02-02 12:32:40.846 -04:00 [INF] Application is shutting down...
2023-02-02 12:32:40.847 -04:00 [DBG] Hosting stopping
2023-02-02 12:32:40.855 -04:00 [DBG] Connection id "0HMO57C41SCU7" disconnecting.
2023-02-02 12:32:40.856 -04:00 [DBG] Connection id "0HMO57C41SCU7" stopped.
2023-02-02 12:32:40.857 -04:00 [DBG] Connection id "0HMO57C41SCU7" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:32:40.860 -04:00 [DBG] Hosting stopped
2023-02-02 12:40:52.459 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 12:40:52.525 -04:00 [DBG] Hosting starting
2023-02-02 12:40:52.562 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 12:40:52.579 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 12:40:52.580 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 12:40:52.581 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 12:40:52.581 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 12:40:52.581 -04:00 [INF] Hosting environment: Development
2023-02-02 12:40:52.582 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 12:40:52.582 -04:00 [DBG] Hosting started
2023-02-02 12:40:56.360 -04:00 [DBG] Connection id "0HMO57H0T6P5B" received FIN.
2023-02-02 12:40:56.366 -04:00 [DBG] Connection id "0HMO57H0T6P5B" accepted.
2023-02-02 12:40:56.366 -04:00 [DBG] Connection id "0HMO57H0T6P5B" started.
2023-02-02 12:40:56.368 -04:00 [DBG] Connection id "0HMO57H0T6P5C" accepted.
2023-02-02 12:40:56.369 -04:00 [DBG] Connection id "0HMO57H0T6P5C" started.
2023-02-02 12:40:56.376 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 12:40:56.390 -04:00 [DBG] Connection id "0HMO57H0T6P5B" stopped.
2023-02-02 12:40:56.391 -04:00 [DBG] Connection id "0HMO57H0T6P5B" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:40:56.403 -04:00 [DBG] Connection 0HMO57H0T6P5C established using the following protocol: "Tls13"
2023-02-02 12:40:56.428 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities - -
2023-02-02 12:40:56.430 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 12:40:56.461 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:40:56.483 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-02-02 12:40:56.486 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-02-02 12:40:56.487 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:40:56.489 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:40:56.506 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Api.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:40:56.508 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:40:56.509 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:40:56.510 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:40:56.511 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:40:56.512 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:40:56.513 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:40:56.609 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 12:40:56.725 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:40:57.445 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:40:57.497 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-02-02 12:40:57.675 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Api.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-02-02 12:40:57.713 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:40:57.746 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2023-02-02 12:40:57.753 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:40:57.929 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:40:57.939 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:40:57.979 -04:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:40:58.011 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:40:58.029 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:40:58.031 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:40:58.036 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:40:58.039 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:40:58.045 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:40:58.065 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 12:40:58.068 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 12:40:58.069 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 12:40:58.069 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 12:40:58.070 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 12:40:58.071 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Api.Models.CityWithoutPointsOfInterestDto, CityInfo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-02 12:40:58.188 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api) in 1669.9596ms
2023-02-02 12:40:58.189 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:40:58.193 -04:00 [DBG] Connection id "0HMO57H0T6P5C" completed keep alive response.
2023-02-02 12:40:58.197 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:40:58.201 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities - - - 200 247 application/json;+charset=utf-8 1774.7603ms
2023-02-02 12:43:09.189 -04:00 [DBG] Connection id "0HMO57H0T6P5C" disconnecting.
2023-02-02 12:43:09.191 -04:00 [DBG] Connection id "0HMO57H0T6P5C" stopped.
2023-02-02 12:43:09.191 -04:00 [DBG] Connection id "0HMO57H0T6P5C" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:50:29.075 -04:00 [INF] Application is shutting down...
2023-02-02 12:50:29.076 -04:00 [DBG] Hosting stopping
2023-02-02 12:50:29.082 -04:00 [DBG] Hosting stopped
2023-02-02 12:53:25.912 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 12:53:25.972 -04:00 [DBG] Hosting starting
2023-02-02 12:53:26.007 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 12:53:26.022 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 12:53:26.023 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 12:53:26.024 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 12:53:26.024 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 12:53:26.024 -04:00 [INF] Hosting environment: Development
2023-02-02 12:53:26.025 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 12:53:26.026 -04:00 [DBG] Hosting started
2023-02-02 12:53:54.064 -04:00 [DBG] Connection id "0HMO57O8LV129" received FIN.
2023-02-02 12:53:54.070 -04:00 [DBG] Connection id "0HMO57O8LV129" accepted.
2023-02-02 12:53:54.070 -04:00 [DBG] Connection id "0HMO57O8LV129" started.
2023-02-02 12:53:54.072 -04:00 [DBG] Connection id "0HMO57O8LV12A" accepted.
2023-02-02 12:53:54.073 -04:00 [DBG] Connection id "0HMO57O8LV12A" started.
2023-02-02 12:53:54.080 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 12:53:54.093 -04:00 [DBG] Connection id "0HMO57O8LV129" stopped.
2023-02-02 12:53:54.094 -04:00 [DBG] Connection id "0HMO57O8LV129" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:53:54.104 -04:00 [DBG] Connection 0HMO57O8LV12A established using the following protocol: "Tls13"
2023-02-02 12:53:54.129 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities - -
2023-02-02 12:53:54.130 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 12:53:54.160 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:53:54.183 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities'
2023-02-02 12:53:54.187 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)' with route pattern 'api/Cities' is valid for the request path '/api/cities'
2023-02-02 12:53:54.188 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:53:54.190 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:53:54.202 -04:00 [INF] Route matched with {action = "GetCities", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Api.Models.CityWithoutPointsOfInterestDto]]] GetCities() on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:53:54.203 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:53:54.204 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:53:54.205 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:53:54.206 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:53:54.206 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:53:54.207 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:53:54.300 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 12:53:54.423 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:53:55.137 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:53:55.187 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .OrderBy(c => c.Name)'
2023-02-02 12:53:55.359 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<City>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
        SELECT c.Id, c.Description, c.Name
        FROM Cities AS c
        ORDER BY c.Name ASC), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
    CityInfo.Api.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-02-02 12:53:55.398 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:53:55.431 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2023-02-02 12:53:55.438 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:53:55.613 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:53:55.622 -04:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:53:55.658 -04:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
ORDER BY [c].[Name]
2023-02-02 12:53:55.685 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:53:55.705 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:53:55.706 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:53:55.711 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:53:55.714 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:53:55.722 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:53:55.739 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 12:53:55.742 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 12:53:55.742 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 12:53:55.743 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 12:53:55.744 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 12:53:55.744 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Api.Models.CityWithoutPointsOfInterestDto, CityInfo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-02 12:53:55.866 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api) in 1654.1925ms
2023-02-02 12:53:55.868 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCities (CityInfo.Api)'
2023-02-02 12:53:55.873 -04:00 [DBG] Connection id "0HMO57O8LV12A" completed keep alive response.
2023-02-02 12:53:55.877 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:53:55.880 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities - - - 200 247 application/json;+charset=utf-8 1754.1086ms
2023-02-02 12:54:01.564 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1 - -
2023-02-02 12:54:01.565 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:54:01.566 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-02-02 12:54:01.567 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)' with route pattern 'api/Cities/{id:int}' is valid for the request path '/api/cities/1'
2023-02-02 12:54:01.567 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:01.568 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:01.578 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:54:01.579 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:54:01.580 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:54:01.581 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:54:01.581 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:54:01.582 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:54:01.583 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:54:01.583 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:54:01.586 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-02-02 12:54:01.588 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-02-02 12:54:01.590 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:01.590 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:01.591 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-02-02 12:54:01.592 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:01.594 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:54:01.595 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name '' in request data ...
2023-02-02 12:54:01.596 -04:00 [DBG] Could not find a value in the request with name '' for binding parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:01.596 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:01.597 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:01.597 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:54:01.598 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:01.602 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:54:01.607 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-02-02 12:54:01.626 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 12:54:01.635 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:54:01.636 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-02-02 12:54:01.640 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:01.641 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:01.646 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-02-02 12:54:01.668 -04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-02-02 12:54:01.671 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:54:01.674 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:54:01.675 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:01.675 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:01.678 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 12:54:01.680 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 12:54:01.680 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 12:54:01.680 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 12:54:01.682 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 12:54:01.683 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Api.Models.CityWithoutPointsOfInterestDto'.
2023-02-02 12:54:01.684 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api) in 101.2536ms
2023-02-02 12:54:01.684 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:01.685 -04:00 [DBG] Connection id "0HMO57O8LV12A" completed keep alive response.
2023-02-02 12:54:01.685 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:54:01.686 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1 - - - 200 75 application/json;+charset=utf-8 121.8831ms
2023-02-02 12:54:43.495 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1?includePointsOfInterest=true - -
2023-02-02 12:54:43.496 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:54:43.496 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-02-02 12:54:43.497 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)' with route pattern 'api/Cities/{id:int}' is valid for the request path '/api/cities/1'
2023-02-02 12:54:43.498 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:43.498 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:43.499 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:54:43.501 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:54:43.501 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:54:43.502 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:54:43.504 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:54:43.504 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:54:43.505 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:54:43.507 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:54:43.511 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-02-02 12:54:43.512 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-02-02 12:54:43.513 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:43.513 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:43.514 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-02-02 12:54:43.514 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-02-02 12:54:43.515 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:54:43.517 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-02-02 12:54:43.518 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:43.518 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:43.519 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:54:43.519 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:54:43.563 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:54:43.569 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-02-02 12:54:43.587 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-02-02 12:54:43.670 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 12:54:43.673 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:54:43.673 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 12:54:43.674 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:43.674 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:43.675 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-02-02 12:54:43.679 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-02-02 12:54:43.680 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:54:43.687 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:54:43.699 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:54:43.702 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:54:43.702 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:43.703 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:54:43.707 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api) in 202.0976ms
2023-02-02 12:54:43.708 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:54:43.708 -04:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
City -> CityDto
CityInfo.Api.Entities.City -> CityInfo.Api.Models.CityDto

Type Map configuration:
City -> CityDto
CityInfo.Api.Entities.City -> CityInfo.Api.Models.CityDto

Destination Member:
PointsOfInterest

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
PointOfInterest -> PointOfInterestDto
CityInfo.Api.Entities.PointOfInterest -> CityInfo.Api.Models.PointOfInterestDto
   at lambda_method111(Closure , PointOfInterest , PointOfInterestDto , ResolutionContext )
   at lambda_method110(Closure , Object , CityDto , ResolutionContext )
   --- End of inner exception stack trace ---
   at lambda_method110(Closure , Object , CityDto , ResolutionContext )
   at CityInfo.Api.Controllers.CitiesController.GetCity(Int32 id, Boolean includePointsOfInterest) in D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\Controllers\CitiesController.cs:line 34
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-02-02 12:54:43.733 -04:00 [DBG] Connection id "0HMO57O8LV12A" completed keep alive response.
2023-02-02 12:54:43.733 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:54:43.734 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1?includePointsOfInterest=true - - - 500 - text/plain;+charset=utf-8 239.2122ms
2023-02-02 12:56:20.448 -04:00 [INF] Application is shutting down...
2023-02-02 12:56:20.449 -04:00 [DBG] Hosting stopping
2023-02-02 12:56:20.454 -04:00 [DBG] Connection id "0HMO57O8LV12A" disconnecting.
2023-02-02 12:56:20.456 -04:00 [DBG] Connection id "0HMO57O8LV12A" stopped.
2023-02-02 12:56:20.456 -04:00 [DBG] Connection id "0HMO57O8LV12A" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:56:20.459 -04:00 [DBG] Hosting stopped
2023-02-02 12:56:27.569 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 12:56:27.630 -04:00 [DBG] Hosting starting
2023-02-02 12:56:27.666 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 12:56:27.682 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 12:56:27.683 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 12:56:27.683 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 12:56:27.684 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 12:56:27.684 -04:00 [INF] Hosting environment: Development
2023-02-02 12:56:27.685 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 12:56:27.686 -04:00 [DBG] Hosting started
2023-02-02 12:56:29.800 -04:00 [DBG] Connection id "0HMO57PN35TP4" received FIN.
2023-02-02 12:56:29.805 -04:00 [DBG] Connection id "0HMO57PN35TP4" accepted.
2023-02-02 12:56:29.807 -04:00 [DBG] Connection id "0HMO57PN35TP4" started.
2023-02-02 12:56:29.808 -04:00 [DBG] Connection id "0HMO57PN35TP5" accepted.
2023-02-02 12:56:29.809 -04:00 [DBG] Connection id "0HMO57PN35TP5" started.
2023-02-02 12:56:29.818 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 12:56:29.839 -04:00 [DBG] Connection id "0HMO57PN35TP4" stopped.
2023-02-02 12:56:29.841 -04:00 [DBG] Connection id "0HMO57PN35TP4" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:56:29.842 -04:00 [DBG] Connection 0HMO57PN35TP5 established using the following protocol: "Tls13"
2023-02-02 12:56:29.867 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1?includePointsOfInterest=true - -
2023-02-02 12:56:29.869 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 12:56:29.899 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 12:56:29.921 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1'
2023-02-02 12:56:29.925 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)' with route pattern 'api/Cities/{id:int}' is valid for the request path '/api/cities/1'
2023-02-02 12:56:29.926 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:56:29.927 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:56:29.948 -04:00 [INF] Route matched with {action = "GetCity", controller = "Cities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCity(Int32, Boolean) on controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api).
2023-02-02 12:56:29.950 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 12:56:29.951 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 12:56:29.951 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 12:56:29.952 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 12:56:29.953 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 12:56:29.954 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:56:30.046 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 12:56:30.169 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.CitiesController (CityInfo.Api)
2023-02-02 12:56:30.176 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2023-02-02 12:56:30.178 -04:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2023-02-02 12:56:30.179 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:56:30.179 -04:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2023-02-02 12:56:30.180 -04:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2023-02-02 12:56:30.181 -04:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2023-02-02 12:56:30.183 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:56:30.184 -04:00 [DBG] Attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean' using the name 'includePointsOfInterest' in request data ...
2023-02-02 12:56:30.185 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:56:30.185 -04:00 [DBG] Done attempting to bind parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:56:30.186 -04:00 [DBG] Attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean' ...
2023-02-02 12:56:30.187 -04:00 [DBG] Done attempting to validate the bound parameter 'includePointsOfInterest' of type 'System.Boolean'.
2023-02-02 12:56:30.900 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 12:56:30.975 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Include(c => c.PointsOfInterest)
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-02-02 12:56:31.018 -04:00 [DBG] Including navigation: 'City.PointsOfInterest'.
2023-02-02 12:56:31.228 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
                1 -> 0
                2 -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 3], [Property: PointOfInterest.CityId (int) Required FK Index, 4], [Property: PointOfInterest.Description (string) MaxLength(200), 5], [Property: PointOfInterest.Name (string) Required MaxLength(50), 6] }
                3 -> 3
            SELECT t.Id, t.Description, t.Name, p.Id, p.CityId, p.Description, p.Name
            FROM 
            (
                SELECT TOP(1) c.Id, c.Description, c.Name
                FROM Cities AS c
                WHERE c.Id == @__cityId_0
            ) AS t
            LEFT JOIN PointOfInterests AS p ON t.Id == p.CityId
            ORDER BY t.Id ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 12:56:31.273 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 12:56:31.305 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (28ms).
2023-02-02 12:56:31.319 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:56:31.496 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:56:31.508 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-02-02 12:56:31.557 -04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Description], [t].[Name], [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
    FROM [Cities] AS [c]
    WHERE [c].[Id] = @__cityId_0
) AS [t]
LEFT JOIN [PointOfInterests] AS [p] ON [t].[Id] = [p].[CityId]
ORDER BY [t].[Id]
2023-02-02 12:56:31.586 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:56:31.611 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:56:31.626 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 12:56:31.633 -04:00 [DBG] A data reader was disposed.
2023-02-02 12:56:31.637 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:56:31.643 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 12:56:31.658 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 12:56:31.662 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 12:56:31.662 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 12:56:31.662 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 12:56:31.663 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 12:56:31.665 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Api.Models.CityDto'.
2023-02-02 12:56:31.793 -04:00 [INF] Executed action CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api) in 1834.828ms
2023-02-02 12:56:31.795 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.CitiesController.GetCity (CityInfo.Api)'
2023-02-02 12:56:31.800 -04:00 [DBG] Connection id "0HMO57PN35TP5" completed keep alive response.
2023-02-02 12:56:31.804 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 12:56:31.807 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1?includePointsOfInterest=true - - - 200 331 application/json;+charset=utf-8 1942.5537ms
2023-02-02 12:58:43.439 -04:00 [DBG] Connection id "0HMO57PN35TP5" disconnecting.
2023-02-02 12:58:43.441 -04:00 [DBG] Connection id "0HMO57PN35TP5" stopped.
2023-02-02 12:58:43.442 -04:00 [DBG] Connection id "0HMO57PN35TP5" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 12:58:44.110 -04:00 [INF] Application is shutting down...
2023-02-02 12:58:44.111 -04:00 [DBG] Hosting stopping
2023-02-02 12:58:44.116 -04:00 [DBG] Hosting stopped
2023-02-02 13:10:22.775 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 13:10:22.834 -04:00 [DBG] Hosting starting
2023-02-02 13:10:22.872 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 13:10:22.890 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 13:10:22.890 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 13:10:22.891 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 13:10:22.891 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 13:10:22.892 -04:00 [INF] Hosting environment: Development
2023-02-02 13:10:22.892 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 13:10:22.893 -04:00 [DBG] Hosting started
2023-02-02 13:10:35.665 -04:00 [DBG] Connection id "0HMO581J5VIMC" received FIN.
2023-02-02 13:10:35.671 -04:00 [DBG] Connection id "0HMO581J5VIMC" accepted.
2023-02-02 13:10:35.671 -04:00 [DBG] Connection id "0HMO581J5VIMC" started.
2023-02-02 13:10:35.673 -04:00 [DBG] Connection id "0HMO581J5VIMD" accepted.
2023-02-02 13:10:35.673 -04:00 [DBG] Connection id "0HMO581J5VIMD" started.
2023-02-02 13:10:35.681 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 13:10:35.694 -04:00 [DBG] Connection id "0HMO581J5VIMC" stopped.
2023-02-02 13:10:35.695 -04:00 [DBG] Connection id "0HMO581J5VIMC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 13:10:35.707 -04:00 [DBG] Connection 0HMO581J5VIMD established using the following protocol: "Tls13"
2023-02-02 13:10:35.732 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest - -
2023-02-02 13:10:35.733 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 13:10:35.764 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:10:35.787 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest'
2023-02-02 13:10:35.791 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest' is valid for the request path '/api/cities/1/pointsofinterest'
2023-02-02 13:10:35.792 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:35.793 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:35.813 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Api.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:10:35.815 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:10:35.816 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:10:35.816 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:10:35.817 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:10:35.818 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:10:35.819 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:10:35.918 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 13:10:36.047 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:10:36.050 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:10:36.052 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:10:36.053 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:36.054 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:36.054 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:10:36.055 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:36.823 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:10:36.876 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-02-02 13:10:37.035 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 13:10:37.096 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:10:37.130 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2023-02-02 13:10:37.144 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.313 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.326 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:10:37.375 -04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:10:37.397 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:10:37.400 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.406 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.413 -04:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.CityId == __cityId_0)'
2023-02-02 13:10:37.440 -04:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<PointOfInterest>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
        SELECT p.Id, p.CityId, p.Description, p.Name
        FROM PointOfInterests AS p
        WHERE p.CityId == @__cityId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
    CityInfo.Api.DbContexts.CityInfoContext, 
    False, 
    False, 
    True
)'
2023-02-02 13:10:37.447 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:10:37.448 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:10:37.449 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.450 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.451 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-02-02 13:10:37.455 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE [p].[CityId] = @__cityId_0
2023-02-02 13:10:37.468 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 13:10:37.493 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 13:10:37.494 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:10:37.495 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.496 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:37.512 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:10:37.515 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:10:37.516 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 13:10:37.516 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 13:10:37.517 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 13:10:37.518 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[CityInfo.Api.Models.PointOfInterestDto, CityInfo.Api, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2023-02-02 13:10:37.635 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api) in 1812.3103ms
2023-02-02 13:10:37.637 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:37.641 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:10:37.645 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:10:37.648 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest - - - 200 207 application/json;+charset=utf-8 1918.6791ms
2023-02-02 13:10:50.206 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/6/pointsofinterest - -
2023-02-02 13:10:50.207 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:10:50.208 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/6/pointsofinterest'
2023-02-02 13:10:50.208 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest' is valid for the request path '/api/cities/6/pointsofinterest'
2023-02-02 13:10:50.209 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:50.209 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:50.210 -04:00 [INF] Route matched with {action = "GetPointsOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[CityInfo.Api.Models.PointOfInterestDto]]] GetPointsOfInterest(Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:10:50.211 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:10:50.212 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:10:50.212 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:10:50.213 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:10:50.214 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:10:50.214 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:10:50.216 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:10:50.217 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:10:50.217 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:10:50.218 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:50.219 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:50.220 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:10:50.221 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:10:50.222 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:10:50.225 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:10:50.226 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:10:50.226 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:50.227 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:50.228 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:10:50.229 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:10:50.231 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:10:50.231 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:50.232 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:10:50.233 -04:00 [INF] City with ID: 6 was not found
2023-02-02 13:10:50.233 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:10:50.235 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:10:50.235 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-02-02 13:10:50.236 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-02-02 13:10:50.237 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-02 13:10:50.255 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api) in 40.1164ms
2023-02-02 13:10:50.256 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointsOfInterest (CityInfo.Api)'
2023-02-02 13:10:50.256 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:10:50.256 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:10:50.257 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/6/pointsofinterest - - - 404 161 application/problem+json;+charset=utf-8 51.0535ms
2023-02-02 13:11:06.823 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/1 - -
2023-02-02 13:11:06.825 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:11:06.825 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 13:11:06.826 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 13:11:06.826 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:06.827 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:06.832 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Api.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:11:06.833 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:11:06.834 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:11:06.834 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:11:06.836 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:11:06.837 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:11:06.838 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:06.840 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:06.841 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:06.841 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:11:06.842 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:06.842 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:06.843 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:06.844 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:06.845 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:06.845 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-02-02 13:11:06.846 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:06.846 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:06.847 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:06.847 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:06.893 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:11:06.895 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:06.895 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:06.896 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.896 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.897 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:06.898 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:06.899 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:06.900 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.900 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.903 -04:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __pointOfInterestId_0 && p.CityId == __cityId_1)
    .FirstOrDefault()'
2023-02-02 13:11:06.908 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 13:11:06.911 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:06.913 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-02-02 13:11:06.914 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.915 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.915 -04:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:06.917 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:06.918 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 13:11:06.919 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:06.920 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.921 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:06.923 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:11:06.924 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:11:06.924 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 13:11:06.925 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 13:11:06.925 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 13:11:06.926 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Api.Models.PointOfInterestDto'.
2023-02-02 13:11:06.926 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api) in 88.7224ms
2023-02-02 13:11:06.928 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:06.929 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:11:06.929 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:11:06.929 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 106.7372ms
2023-02-02 13:11:19.714 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/0/pointsofinterest/1 - -
2023-02-02 13:11:19.714 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:11:19.715 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/0/pointsofinterest/1'
2023-02-02 13:11:19.716 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int}' is valid for the request path '/api/cities/0/pointsofinterest/1'
2023-02-02 13:11:19.717 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:19.718 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:19.719 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Api.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:11:19.720 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:11:19.721 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:11:19.721 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:11:19.722 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:11:19.723 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:11:19.724 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:19.725 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:19.726 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:19.726 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:11:19.727 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:19.728 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:19.728 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:19.729 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:19.730 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:19.730 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-02-02 13:11:19.732 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:19.733 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:19.734 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:19.734 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:19.735 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:11:19.736 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:19.736 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:19.737 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:19.737 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:19.738 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:19.739 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:19.740 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:19.741 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:19.741 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:19.742 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:11:19.743 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:11:19.743 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-02-02 13:11:19.744 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-02-02 13:11:19.744 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-02 13:11:19.745 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api) in 21.0984ms
2023-02-02 13:11:19.746 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:19.749 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:11:19.750 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:11:19.750 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/0/pointsofinterest/1 - - - 404 161 application/problem+json;+charset=utf-8 36.1084ms
2023-02-02 13:11:25.586 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/667 - -
2023-02-02 13:11:25.586 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:11:25.587 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/667'
2023-02-02 13:11:25.587 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int}' is valid for the request path '/api/cities/1/pointsofinterest/667'
2023-02-02 13:11:25.588 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:25.588 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:25.589 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Api.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:11:25.590 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:11:25.590 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:11:25.591 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:11:25.592 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:11:25.592 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:11:25.593 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:25.594 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:25.595 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:25.595 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:11:25.596 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:25.596 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:25.597 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:25.597 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:25.598 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:25.598 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-02-02 13:11:25.599 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:25.601 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:25.602 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:25.602 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:25.603 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:11:25.604 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:25.604 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:25.605 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.605 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.605 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:25.607 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:25.608 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:25.608 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.608 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.609 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:25.609 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:25.610 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.610 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.611 -04:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:25.612 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:25.613 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:25.613 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.614 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:25.615 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:11:25.616 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:11:25.617 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2023-02-02 13:11:25.618 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-02-02 13:11:25.618 -04:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2023-02-02 13:11:25.619 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api) in 25.4285ms
2023-02-02 13:11:25.619 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:25.620 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:11:25.620 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:11:25.621 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/667 - - - 404 161 application/problem+json;+charset=utf-8 35.2803ms
2023-02-02 13:11:30.342 -04:00 [INF] Request starting HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/1 - -
2023-02-02 13:11:30.342 -04:00 [DBG] The request path  does not match the path filter
2023-02-02 13:11:30.343 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 13:11:30.345 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 13:11:30.347 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:30.347 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:30.348 -04:00 [INF] Route matched with {action = "GetPointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Api.Models.PointOfInterestDto]] GetPointOfInterest(Int32, Int32) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 13:11:30.349 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 13:11:30.350 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 13:11:30.351 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 13:11:30.354 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 13:11:30.354 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 13:11:30.355 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:30.356 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 13:11:30.356 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:30.357 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 13:11:30.359 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:30.359 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:30.361 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 13:11:30.362 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 13:11:30.362 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:30.363 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-02-02 13:11:30.365 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:30.365 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:30.366 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 13:11:30.366 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 13:11:30.367 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 13:11:30.368 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:30.369 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:30.369 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.370 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.371 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:30.373 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 13:11:30.374 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:30.375 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.378 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.379 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 13:11:30.380 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 13:11:30.381 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.381 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.382 -04:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:30.383 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 13:11:30.385 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 13:11:30.386 -04:00 [DBG] A data reader was disposed.
2023-02-02 13:11:30.387 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.387 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 13:11:30.388 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 13:11:30.389 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 13:11:30.390 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 13:11:30.393 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 13:11:30.393 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 13:11:30.394 -04:00 [INF] Executing OkObjectResult, writing value of type 'CityInfo.Api.Models.PointOfInterestDto'.
2023-02-02 13:11:30.395 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api) in 40.4585ms
2023-02-02 13:11:30.396 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)'
2023-02-02 13:11:30.397 -04:00 [DBG] Connection id "0HMO581J5VIMD" completed keep alive response.
2023-02-02 13:11:30.397 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 13:11:30.398 -04:00 [INF] Request finished HTTP/1.1 GET https://localhost:7152/api/cities/1/pointsofinterest/1 - - - 200 96 application/json;+charset=utf-8 55.7244ms
2023-02-02 13:11:50.392 -04:00 [INF] Application is shutting down...
2023-02-02 13:11:50.393 -04:00 [DBG] Hosting stopping
2023-02-02 13:11:50.401 -04:00 [DBG] Connection id "0HMO581J5VIMD" disconnecting.
2023-02-02 13:11:50.402 -04:00 [DBG] Connection id "0HMO581J5VIMD" stopped.
2023-02-02 13:11:50.403 -04:00 [DBG] Connection id "0HMO581J5VIMD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 13:11:50.406 -04:00 [DBG] Hosting stopped
2023-02-02 19:18:44.971 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 19:18:45.036 -04:00 [DBG] Hosting starting
2023-02-02 19:18:45.075 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 19:18:45.092 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 19:18:45.093 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 19:18:45.094 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 19:18:45.094 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 19:18:45.095 -04:00 [INF] Hosting environment: Development
2023-02-02 19:18:45.095 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 19:18:45.096 -04:00 [DBG] Hosting started
2023-02-02 19:18:58.130 -04:00 [DBG] Connection id "0HMO5EFE7GEL0" received FIN.
2023-02-02 19:18:58.135 -04:00 [DBG] Connection id "0HMO5EFE7GEL0" accepted.
2023-02-02 19:18:58.137 -04:00 [DBG] Connection id "0HMO5EFE7GEL0" started.
2023-02-02 19:18:58.138 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" accepted.
2023-02-02 19:18:58.138 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" started.
2023-02-02 19:18:58.146 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 19:18:58.161 -04:00 [DBG] Connection id "0HMO5EFE7GEL0" stopped.
2023-02-02 19:18:58.163 -04:00 [DBG] Connection id "0HMO5EFE7GEL0" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 19:18:58.178 -04:00 [DBG] Connection 0HMO5EFE7GEL1 established using the following protocol: "Tls13"
2023-02-02 19:18:58.204 -04:00 [INF] Request starting HTTP/1.1 POST https://localhost:7152/api/cities/3/pointsofinterest application/json 117
2023-02-02 19:18:58.206 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 19:18:58.221 -04:00 [DBG] POST requests are not supported
2023-02-02 19:18:58.244 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/3/pointsofinterest'
2023-02-02 19:18:58.248 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest' is valid for the request path '/api/cities/3/pointsofinterest'
2023-02-02 19:18:58.250 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.Api)'
2023-02-02 19:18:58.252 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.Api)'
2023-02-02 19:18:58.274 -04:00 [INF] Route matched with {action = "CreatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[CityInfo.Api.Models.PointOfInterestDto]] CreatePointOfInterest(Int32, CityInfo.Api.Models.PointOfInterestForCreationDto) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 19:18:58.276 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 19:18:58.277 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 19:18:58.277 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 19:18:58.278 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 19:18:58.279 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 19:18:58.280 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 19:18:58.390 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 19:18:58.534 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 19:18:58.537 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 19:18:58.539 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 19:18:58.540 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:18:58.541 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:18:58.541 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 19:18:58.542 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:18:58.548 -04:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto' ...
2023-02-02 19:18:58.549 -04:00 [DBG] Attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto' using the name '' in request data ...
2023-02-02 19:18:58.551 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-02-02 19:18:58.553 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-02-02 19:18:58.556 -04:00 [DBG] Connection id "0HMO5EFE7GEL1", Request id "0HMO5EFE7GEL1:00000002": started reading request body.
2023-02-02 19:18:58.557 -04:00 [DBG] Connection id "0HMO5EFE7GEL1", Request id "0HMO5EFE7GEL1:00000002": done reading request body.
2023-02-02 19:18:58.658 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto'.
2023-02-02 19:18:58.659 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto'.
2023-02-02 19:18:58.659 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto' ...
2023-02-02 19:18:58.664 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterest' of type 'CityInfo.Api.Models.PointOfInterestForCreationDto'.
2023-02-02 19:18:59.432 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 19:18:59.487 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-02-02 19:18:59.639 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 19:18:59.694 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:18:59.727 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (29ms).
2023-02-02 19:18:59.742 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:18:59.935 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:18:59.947 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 19:18:59.999 -04:00 [INF] Executed DbCommand (56ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 19:19:00.022 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:19:00.026 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.032 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.044 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Where(c => c.Id == __cityId_0)
    .FirstOrDefault()'
2023-02-02 19:19:00.075 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<City>(
    asyncEnumerable: new SingleQueryingEnumerable<City>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: City.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: City.Description (string) MaxLength(200), 1], [Property: City.Name (string) Required MaxLength(50), 2] }
            SELECT TOP(1) c.Id, c.Description, c.Name
            FROM Cities AS c
            WHERE c.Id == @__cityId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, City>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 19:19:00.084 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:19:00.084 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 19:19:00.085 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.087 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.087 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-02-02 19:19:00.091 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Description], [c].[Name]
FROM [Cities] AS [c]
WHERE [c].[Id] = @__cityId_0
2023-02-02 19:19:00.108 -04:00 [DBG] Context 'CityInfoContext' started tracking 'City' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:19:00.128 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:19:00.128 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.129 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.132 -04:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-02-02 19:19:00.136 -04:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-02-02 19:19:00.161 -04:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'City.PointsOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:19:00.187 -04:00 [DBG] 'CityInfoContext' generated a temporary value for the property 'Id.PointOfInterest'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:19:00.217 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:19:00.221 -04:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-02-02 19:19:00.237 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.238 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.240 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-02 19:19:00.248 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-02 19:19:00.304 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:19:00.305 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-02-02 19:19:00.307 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointOfInterests] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointOfInterests]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-02-02 19:19:00.310 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PointOfInterests] ([CityId], [Description], [Name])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [PointOfInterests]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2023-02-02 19:19:00.328 -04:00 [DBG] The foreign key property 'PointOfInterest.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-02-02 19:19:00.335 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:19:00.339 -04:00 [DBG] Committing transaction.
2023-02-02 19:19:00.343 -04:00 [DBG] Committed transaction.
2023-02-02 19:19:00.347 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.348 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:19:00.352 -04:00 [DBG] Disposing transaction.
2023-02-02 19:19:00.361 -04:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:19:00.365 -04:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-02-02 19:19:00.372 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.XmlDataContractSerializerOutputFormatter"]
2023-02-02 19:19:00.375 -04:00 [DBG] No information found on request to perform content negotiation.
2023-02-02 19:19:00.375 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-02-02 19:19:00.376 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-02-02 19:19:00.377 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonOutputFormatter' and content type 'application/json' to write the response.
2023-02-02 19:19:00.378 -04:00 [INF] Executing CreatedAtRouteResult, writing value of type 'CityInfo.Api.Models.PointOfInterestDto'.
2023-02-02 19:19:00.394 -04:00 [DBG] Found the endpoints ["CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)"] for address Microsoft.AspNetCore.Routing.RouteValuesAddress
2023-02-02 19:19:00.403 -04:00 [DBG] Successfully processed template api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int} for CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api) resulting in /api/cities/3/PointsOfInterest/7 and 
2023-02-02 19:19:00.405 -04:00 [DBG] Link generation succeeded for endpoints ["CityInfo.Api.Controllers.PointsOfInterestController.GetPointOfInterest (CityInfo.Api)"] with result /api/cities/3/PointsOfInterest/7
2023-02-02 19:19:00.460 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.Api) in 2175.1456ms
2023-02-02 19:19:00.462 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.CreatePointOfInterest (CityInfo.Api)'
2023-02-02 19:19:00.466 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" completed keep alive response.
2023-02-02 19:19:00.471 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 19:19:00.475 -04:00 [INF] Request finished HTTP/1.1 POST https://localhost:7152/api/cities/3/pointsofinterest application/json 117 - 201 111 application/json;+charset=utf-8 2273.5221ms
2023-02-02 19:21:11.837 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" disconnecting.
2023-02-02 19:21:11.839 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" stopped.
2023-02-02 19:21:11.840 -04:00 [DBG] Connection id "0HMO5EFE7GEL1" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 19:21:17.416 -04:00 [INF] Application is shutting down...
2023-02-02 19:21:17.417 -04:00 [DBG] Hosting stopping
2023-02-02 19:21:17.423 -04:00 [DBG] Hosting stopped
2023-02-02 19:28:49.000 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-02-02 19:28:49.060 -04:00 [DBG] Hosting starting
2023-02-02 19:28:49.096 -04:00 [DBG] Using development certificate: CN=localhost (Thumbprint: B183327839E48185822F5FEA34378433D793BF76)
2023-02-02 19:28:49.112 -04:00 [INF] Now listening on: https://localhost:7152
2023-02-02 19:28:49.113 -04:00 [INF] Now listening on: http://localhost:5152
2023-02-02 19:28:49.113 -04:00 [DBG] Loaded hosting startup assembly CityInfo.Api
2023-02-02 19:28:49.114 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2023-02-02 19:28:49.114 -04:00 [INF] Hosting environment: Development
2023-02-02 19:28:49.114 -04:00 [INF] Content root path: D:\Cursos\Pluralsight\ASP.NET Core 6 Web API Fundamentals\CityInfo.Api\
2023-02-02 19:28:49.115 -04:00 [DBG] Hosting started
2023-02-02 19:28:56.775 -04:00 [DBG] Connection id "0HMO5EL0KKINU" received FIN.
2023-02-02 19:28:56.781 -04:00 [DBG] Connection id "0HMO5EL0KKINU" accepted.
2023-02-02 19:28:56.782 -04:00 [DBG] Connection id "0HMO5EL0KKINU" started.
2023-02-02 19:28:56.783 -04:00 [DBG] Connection id "0HMO5EL0KKINV" accepted.
2023-02-02 19:28:56.784 -04:00 [DBG] Connection id "0HMO5EL0KKINV" started.
2023-02-02 19:28:56.790 -04:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-02-02 19:28:56.804 -04:00 [DBG] Connection id "0HMO5EL0KKINU" stopped.
2023-02-02 19:28:56.805 -04:00 [DBG] Connection id "0HMO5EL0KKINU" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 19:28:56.815 -04:00 [DBG] Connection 0HMO5EL0KKINV established using the following protocol: "Tls13"
2023-02-02 19:28:56.838 -04:00 [INF] Request starting HTTP/1.1 PUT https://localhost:7152/api/cities/1/pointsofinterest/1 application/json 122
2023-02-02 19:28:56.840 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-02-02 19:28:56.855 -04:00 [DBG] PUT requests are not supported
2023-02-02 19:28:56.875 -04:00 [DBG] 1 candidate(s) found for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 19:28:56.879 -04:00 [DBG] Endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.Api)' with route pattern 'api/cities/{cityId:int}/PointsOfInterest/{pointOfInterestId:int}' is valid for the request path '/api/cities/1/pointsofinterest/1'
2023-02-02 19:28:56.881 -04:00 [DBG] Request matched endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.Api)'
2023-02-02 19:28:56.882 -04:00 [INF] Executing endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.Api)'
2023-02-02 19:28:56.907 -04:00 [INF] Route matched with {action = "UpdatePointOfInterest", controller = "PointsOfInterest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] UpdatePointOfInterest(Int32, Int32, CityInfo.Api.Models.PointOfInterestForUpdateDto) on controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api).
2023-02-02 19:28:56.909 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-02-02 19:28:56.909 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-02-02 19:28:56.910 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-02-02 19:28:56.911 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-02-02 19:28:56.911 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-02-02 19:28:56.912 -04:00 [DBG] Executing controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 19:28:57.004 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-02-02 19:28:57.135 -04:00 [DBG] Executed controller factory for controller CityInfo.Api.Controllers.PointsOfInterestController (CityInfo.Api)
2023-02-02 19:28:57.138 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' ...
2023-02-02 19:28:57.140 -04:00 [DBG] Attempting to bind parameter 'cityId' of type 'System.Int32' using the name 'cityId' in request data ...
2023-02-02 19:28:57.141 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:28:57.142 -04:00 [DBG] Done attempting to bind parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:28:57.143 -04:00 [DBG] Attempting to validate the bound parameter 'cityId' of type 'System.Int32' ...
2023-02-02 19:28:57.144 -04:00 [DBG] Done attempting to validate the bound parameter 'cityId' of type 'System.Int32'.
2023-02-02 19:28:57.146 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 19:28:57.146 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestId' of type 'System.Int32' using the name 'pointOfInterestId' in request data ...
2023-02-02 19:28:57.147 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 19:28:57.147 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 19:28:57.148 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32' ...
2023-02-02 19:28:57.149 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestId' of type 'System.Int32'.
2023-02-02 19:28:57.149 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto' ...
2023-02-02 19:28:57.150 -04:00 [DBG] Attempting to bind parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto' using the name '' in request data ...
2023-02-02 19:28:57.151 -04:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonPatchInputFormatter' for content type 'application/json'.
2023-02-02 19:28:57.152 -04:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.NewtonsoftJsonInputFormatter' for content type 'application/json'.
2023-02-02 19:28:57.156 -04:00 [DBG] Connection id "0HMO5EL0KKINV", Request id "0HMO5EL0KKINV:00000002": started reading request body.
2023-02-02 19:28:57.157 -04:00 [DBG] Connection id "0HMO5EL0KKINV", Request id "0HMO5EL0KKINV:00000002": done reading request body.
2023-02-02 19:28:57.250 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto'.
2023-02-02 19:28:57.252 -04:00 [DBG] Done attempting to bind parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto'.
2023-02-02 19:28:57.252 -04:00 [DBG] Attempting to validate the bound parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto' ...
2023-02-02 19:28:57.257 -04:00 [DBG] Done attempting to validate the bound parameter 'pointOfInterestForUpdate' of type 'CityInfo.Api.Models.PointOfInterestForUpdateDto'.
2023-02-02 19:28:57.973 -04:00 [INF] Entity Framework Core 6.0.13 initialized 'CityInfoContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.13' with options: None
2023-02-02 19:28:58.030 -04:00 [DBG] Compiling query expression: 
'DbSet<City>()
    .Any(c => c.Id == __cityId_0)'
2023-02-02 19:28:58.175 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                SELECT 1
                FROM Cities AS c
                WHERE c.Id == @__cityId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 19:28:58.227 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:28:58.258 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (27ms).
2023-02-02 19:28:58.273 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.441 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.453 -04:00 [DBG] Executing DbCommand [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 19:28:58.504 -04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cityId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Cities] AS [c]
        WHERE [c].[Id] = @__cityId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2023-02-02 19:28:58.524 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:28:58.527 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.533 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.536 -04:00 [DBG] Compiling query expression: 
'DbSet<PointOfInterest>()
    .Where(p => p.Id == __pointOfInterestId_0 && p.CityId == __cityId_1)
    .FirstOrDefault()'
2023-02-02 19:28:58.565 -04:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<PointOfInterest>(
    asyncEnumerable: new SingleQueryingEnumerable<PointOfInterest>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: PointOfInterest.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: PointOfInterest.CityId (int) Required FK Index, 1], [Property: PointOfInterest.Description (string) MaxLength(200), 2], [Property: PointOfInterest.Name (string) Required MaxLength(50), 3] }
            SELECT TOP(1) p.Id, p.CityId, p.Description, p.Name
            FROM PointOfInterests AS p
            WHERE (p.Id == @__pointOfInterestId_0) && (p.CityId == @__cityId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, PointOfInterest>, 
        CityInfo.Api.DbContexts.CityInfoContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-02-02 19:28:58.573 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:28:58.574 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 19:28:58.574 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.576 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.576 -04:00 [DBG] Executing DbCommand [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 19:28:58.579 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__pointOfInterestId_0='?' (DbType = Int32), @__cityId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CityId], [p].[Description], [p].[Name]
FROM [PointOfInterests] AS [p]
WHERE ([p].[Id] = @__pointOfInterestId_0) AND ([p].[CityId] = @__cityId_1)
2023-02-02 19:28:58.593 -04:00 [DBG] Context 'CityInfoContext' started tracking 'PointOfInterest' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:28:58.612 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:28:58.613 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.615 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.625 -04:00 [DBG] SaveChanges starting for 'CityInfoContext'.
2023-02-02 19:28:58.628 -04:00 [DBG] DetectChanges starting for 'CityInfoContext'.
2023-02-02 19:28:58.639 -04:00 [DBG] The unchanged property 'PointOfInterest.Description' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-02-02 19:28:58.648 -04:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:28:58.649 -04:00 [DBG] The unchanged property 'PointOfInterest.Name' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-02-02 19:28:58.652 -04:00 [DBG] DetectChanges completed for 'CityInfoContext'.
2023-02-02 19:28:58.667 -04:00 [DBG] Opening connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.668 -04:00 [DBG] Opened connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.670 -04:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-02-02 19:28:58.677 -04:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2023-02-02 19:28:58.718 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-02-02 19:28:58.719 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2023-02-02 19:28:58.721 -04:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-02-02 19:28:58.723 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 200), @p1='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [PointOfInterests] SET [Description] = @p0, [Name] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;
2023-02-02 19:28:58.729 -04:00 [DBG] A data reader was disposed.
2023-02-02 19:28:58.732 -04:00 [DBG] Committing transaction.
2023-02-02 19:28:58.735 -04:00 [DBG] Committed transaction.
2023-02-02 19:28:58.737 -04:00 [DBG] Closing connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.738 -04:00 [DBG] Closed connection to database 'CitiesApi' on server 'DESKTOP-S5G74PE'.
2023-02-02 19:28:58.740 -04:00 [DBG] Disposing transaction.
2023-02-02 19:28:58.745 -04:00 [DBG] An entity of type 'PointOfInterest' tracked by 'CityInfoContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-02-02 19:28:58.749 -04:00 [DBG] SaveChanges completed for 'CityInfoContext' with 1 entities written to the database.
2023-02-02 19:28:58.757 -04:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2023-02-02 19:28:58.763 -04:00 [INF] Executed action CityInfo.Api.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.Api) in 1846.3946ms
2023-02-02 19:28:58.765 -04:00 [INF] Executed endpoint 'CityInfo.Api.Controllers.PointsOfInterestController.UpdatePointOfInterest (CityInfo.Api)'
2023-02-02 19:28:58.769 -04:00 [DBG] Connection id "0HMO5EL0KKINV" completed keep alive response.
2023-02-02 19:28:58.773 -04:00 [DBG] 'CityInfoContext' disposed.
2023-02-02 19:28:58.776 -04:00 [INF] Request finished HTTP/1.1 PUT https://localhost:7152/api/cities/1/pointsofinterest/1 application/json 122 - 204 - - 1939.6505ms
2023-02-02 19:29:12.141 -04:00 [INF] Application is shutting down...
2023-02-02 19:29:12.143 -04:00 [DBG] Hosting stopping
2023-02-02 19:29:12.150 -04:00 [DBG] Connection id "0HMO5EL0KKINV" disconnecting.
2023-02-02 19:29:12.152 -04:00 [DBG] Connection id "0HMO5EL0KKINV" stopped.
2023-02-02 19:29:12.153 -04:00 [DBG] Connection id "0HMO5EL0KKINV" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-02-02 19:29:12.156 -04:00 [DBG] Hosting stopped
